<article class="bg-theme-bg-card rounded-lg shadow-lg p-6 mb-6 border border-theme-border">
    <header class="pb-2 mb-2 border-b border-theme-border">
        <h3 class="text-xl font-semibold m-0 text-theme-text">Playback</h3>
    </header>
    <div id="status-playback-content">
        {% if status.title or status.artist %}
        <p class="mb-2">
            <span class="inline-block px-2 py-1 rounded text-sm font-medium mr-2 {% if status.playback_state == 'PLAYING' %}bg-theme-success text-theme-success-text{% elif status.playback_state == 'PAUSED' %}bg-theme-warning text-theme-warning-text{% else %}bg-theme-bg-input text-theme-text-muted{% endif %}">
                {% if status.playback_state == 'PLAYING' %}‚ñ∂{% elif status.playback_state == 'PAUSED' %}‚è∏{% else %}‚èπ{% endif %}
                {{ status.playback_state or 'STOPPED' }}
            </span>
            <strong class="text-lg text-theme-text">{{ status.title or 'Unknown Title' }}</strong>
            <span class="text-theme-text-secondary text-sm"> ‚Ä¢ {{ status.artist or 'Unknown Artist' }}{% if status.album %} ‚Ä¢ {{ status.album }}{% endif %}</span>
        </p>
        {% if status.track_progress is not none and status.track_duration is not none %}
        <div class="mb-2">
            {% set progress_pct = (status.track_progress / status.track_duration * 100) if status.track_duration > 0 else 0 %}
            <progress value="{{ progress_pct }}" max="100" class="w-full mb-2 h-2 rounded bg-theme-bg-input"></progress>
            <div class="grid grid-cols-2 gap-2">
                {% set progress_min = (status.track_progress / 60000)|int %}
                {% set progress_sec = ((status.track_progress / 1000) % 60)|int %}
                {% set duration_min = (status.track_duration / 60000)|int %}
                {% set duration_sec = ((status.track_duration / 1000) % 60)|int %}
                <small class="text-sm text-theme-text-secondary m-0">{{ progress_min }}:{{ "%02d"|format(progress_sec) }}</small>
                <small class="text-sm text-theme-text-secondary m-0 text-right">{{ duration_min }}:{{ "%02d"|format(duration_sec) }}</small>
            </div>
        </div>
        {% endif %}
        {% if status.volume is not none %}
        <div class="flex items-center gap-2">
            <small class="text-sm min-w-[70px] text-theme-text-muted">Volume: {{ status.volume }}%{% if status.muted %} üîá{% endif %}</small>
            <progress value="{{ status.volume }}" max="100" class="flex-1 h-2 rounded bg-theme-bg-input {% if status.muted %}opacity-50{% endif %}"></progress>
        </div>
        {% endif %}
        {% else %}
        <p class="m-0 text-theme-text-secondary italic">No track playing</p>
        {% endif %}
    </div>
</article>

